var WPUltimatePostGrid=WPUltimatePostGrid||{};WPUltimatePostGrid.post_type=null,WPUltimatePostGrid.filter_possible=!1,WPUltimatePostGrid.premium_features_used=[],WPUltimatePostGrid.initForm=function(){jQuery(".wpupg-select2").select2wpupg({width:"100%"}),jQuery("select.wpupg_filter_taxonomy").on("select2wpupg:select",function(e){var t=e.params.data.element,i=jQuery(t);i.detach(),jQuery(this).append(i),jQuery(this).trigger("change")}),jQuery("#wpupg_rules").find(".wpupg-date").datepicker();var e={start:1,step:1,range:{min:1,max:500},behaviour:"tap-drag",format:wNumb({decimals:0})},t=jQuery("#wpupg_pagination_pages_posts_per_page");e.start=t.val(),jQuery("#wpupg_pagination_pages_posts_per_page_slider").noUiSlider(e).Link("lower").to(t);var i=jQuery("#wpupg_pagination_infinite_load_initial_posts");e.start=i.val(),jQuery("#wpupg_pagination_infinite_load_initial_posts_slider").noUiSlider(e).Link("lower").to(i);var o=jQuery("#wpupg_pagination_infinite_load_posts_on_scroll");e.start=o.val(),jQuery("#wpupg_pagination_infinite_load_posts_on_scroll_slider").noUiSlider(e).Link("lower").to(o);var r=jQuery("#wpupg_pagination_load_more_initial_posts");e.start=r.val(),jQuery("#wpupg_pagination_load_more_initial_posts_slider").noUiSlider(e).Link("lower").to(r);var a=jQuery("#wpupg_pagination_load_more_posts_on_click");e.start=a.val(),jQuery("#wpupg_pagination_load_more_posts_on_click_slider").noUiSlider(e).Link("lower").to(a);var l=jQuery("#wpupg_pagination_load_filter_initial_posts");e.start=l.val(),jQuery("#wpupg_pagination_load_filter_initial_posts_slider").noUiSlider(e).Link("lower").to(l),e={start:0,step:1,range:{min:0,max:50},behaviour:"tap-drag",format:wNumb({decimals:0})};var n=jQuery("#wpupg_isotope_filter_style_margin_vertical");e.start=n.val(),jQuery("#wpupg_isotope_filter_style_margin_vertical_slider").noUiSlider(e).on({slide:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}).Link("lower").to(n);var _=jQuery("#wpupg_isotope_filter_style_margin_horizontal");e.start=_.val(),jQuery("#wpupg_isotope_filter_style_margin_horizontal_slider").noUiSlider(e).on({slide:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}).Link("lower").to(_);var p=jQuery("#wpupg_isotope_filter_style_padding_vertical");e.start=p.val(),jQuery("#wpupg_isotope_filter_style_padding_vertical_slider").noUiSlider(e).on({slide:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}).Link("lower").to(p);var s=jQuery("#wpupg_isotope_filter_style_padding_horizontal");e.start=s.val(),jQuery("#wpupg_isotope_filter_style_padding_horizontal_slider").noUiSlider(e).on({slide:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}).Link("lower").to(s);var u=jQuery("#wpupg_isotope_filter_style_border_width");e.start=u.val(),jQuery("#wpupg_isotope_filter_style_border_width_slider").noUiSlider(e).on({slide:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}).Link("lower").to(u);var c=jQuery("#wpupg_pagination_style_margin_vertical");e.start=c.val(),jQuery("#wpupg_pagination_style_margin_vertical_slider").noUiSlider(e).on({slide:function(){WPUltimatePostGrid.changedPaginationStyle()}}).Link("lower").to(c);var g=jQuery("#wpupg_pagination_style_margin_horizontal");e.start=g.val(),jQuery("#wpupg_pagination_style_margin_horizontal_slider").noUiSlider(e).on({slide:function(){WPUltimatePostGrid.changedPaginationStyle()}}).Link("lower").to(g);var d=jQuery("#wpupg_pagination_style_padding_vertical");e.start=d.val(),jQuery("#wpupg_pagination_style_padding_vertical_slider").noUiSlider(e).on({slide:function(){WPUltimatePostGrid.changedPaginationStyle()}}).Link("lower").to(d);var y=jQuery("#wpupg_pagination_style_padding_horizontal");e.start=y.val(),jQuery("#wpupg_pagination_style_padding_horizontal_slider").noUiSlider(e).on({slide:function(){WPUltimatePostGrid.changedPaginationStyle()}}).Link("lower").to(y);var P=jQuery("#wpupg_pagination_style_border_width");e.start=P.val(),jQuery("#wpupg_pagination_style_border_width_slider").noUiSlider(e).on({slide:function(){WPUltimatePostGrid.changedPaginationStyle()}}).Link("lower").to(P),jQuery("#wpupg_isotope_filter_style_background_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_background_active_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_background_hover_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_text_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_text_active_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_text_hover_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_border_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_border_active_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_isotope_filter_style_border_hover_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}}),jQuery("#wpupg_pagination_style_background_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedPaginationStyle()}}),jQuery("#wpupg_pagination_style_background_active_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedPaginationStyle()}}),jQuery("#wpupg_pagination_style_background_hover_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedPaginationStyle()}}),jQuery("#wpupg_pagination_style_text_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedPaginationStyle()}}),jQuery("#wpupg_pagination_style_text_active_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedPaginationStyle()}}),jQuery("#wpupg_pagination_style_text_hover_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedPaginationStyle()}}),jQuery("#wpupg_pagination_style_border_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedPaginationStyle()}}),jQuery("#wpupg_pagination_style_border_active_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedPaginationStyle()}}),jQuery("#wpupg_pagination_style_border_hover_color").wpColorPicker({change:function(){WPUltimatePostGrid.changedPaginationStyle()}}),WPUltimatePostGrid.changedPostType(),WPUltimatePostGrid.changedOrderBy(),WPUltimatePostGrid.changedLimitPosts(),WPUltimatePostGrid.initRules(),WPUltimatePostGrid.changedFilterType(),WPUltimatePostGrid.changedMultiselect(),WPUltimatePostGrid.changedLimitTerms(),WPUltimatePostGrid.changedIsotopeFilterStyle(),WPUltimatePostGrid.changedIsotopeFilterText(),WPUltimatePostGrid.changedLayoutMode(),WPUltimatePostGrid.changedPaginationStyle(),WPUltimatePostGrid.changedPaginationType(),WPUltimatePostGrid.changedPaginationText(),jQuery("#wpupg_post_types").on("change",function(){WPUltimatePostGrid.changedPostType()}),jQuery("#wpupg_order_by").on("change",function(){WPUltimatePostGrid.changedOrderBy()}),jQuery("#wpupg_limit_posts").on("change",function(){WPUltimatePostGrid.changedLimitPosts()}),jQuery("#wpupg_add_rule").on("click",function(e){e.preventDefault(),WPUltimatePostGrid.addRule()}),jQuery(".wpupg_rule_delete").on("click",function(e){e.preventDefault(),WPUltimatePostGrid.removeRule(jQuery(this).parents("tr").attr("data-rule"))}),jQuery(".wpupg_rule_field").on("change",function(e){WPUltimatePostGrid.changedRuleField(jQuery(this).parents("tr").attr("data-rule"))}),jQuery(".rule_container_wpupg_general_date").find("select").on("change",function(e){WPUltimatePostGrid.changedDateRule(jQuery(this).parents("tr").attr("data-rule"))}),jQuery(".wpupg-date").on("change",function(e){WPUltimatePostGrid.changedDateRule(jQuery(this).parents("tr").attr("data-rule"))}),jQuery("#wpupg_filter_type").on("change",function(){WPUltimatePostGrid.changedFilterType()}),jQuery("#wpupg_filter_multiselect").on("change",function(){WPUltimatePostGrid.changedMultiselect()}),jQuery(".wpupg_filter_taxonomy").on("change",function(){WPUltimatePostGrid.changedLimitTerms()}),jQuery("#wpupg_filter_limit").on("change",function(){WPUltimatePostGrid.changedLimitTerms()}),jQuery("#wpupg_layout_mode").on("change",function(){WPUltimatePostGrid.changedLayoutMode()}),jQuery("#wpupg_pagination_type").on("change",function(){WPUltimatePostGrid.changedPaginationType()}),jQuery("#wpupg_pagination_load_more_button_text").on("change keyup",function(){WPUltimatePostGrid.changedPaginationText()}),n.on("change",function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}),_.on("change",function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}),p.on("change",function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}),s.on("change",function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}),u.on("change",function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}),jQuery("#wpupg_isotope_filter_style_alignment").on("change",function(){WPUltimatePostGrid.changedIsotopeFilterStyle()}),jQuery("#wpupg_isotope_filter_style_all_button_text").on("change keyup",function(){WPUltimatePostGrid.changedIsotopeFilterText()}),c.on("change",function(){WPUltimatePostGrid.changedPaginationStyle()}),g.on("change",function(){WPUltimatePostGrid.changedPaginationStyle()}),d.on("change",function(){WPUltimatePostGrid.changedPaginationStyle()}),y.on("change",function(){WPUltimatePostGrid.changedPaginationStyle()}),P.on("change",function(){WPUltimatePostGrid.changedPaginationStyle()}),jQuery("#wpupg_pagination_style_alignment").on("change",function(){WPUltimatePostGrid.changedPaginationStyle()}),jQuery(".wpupg-filter-isotope-term").hover(function(){if(!jQuery(this).hasClass("active")){var e=jQuery("#wpupg_isotope_filter_style_background_hover_color").wpColorPicker("color"),t=jQuery("#wpupg_isotope_filter_style_text_hover_color").wpColorPicker("color"),i=jQuery("#wpupg_isotope_filter_style_border_hover_color").wpColorPicker("color");jQuery(this).css("background-color",e).css("color",t).css("border-color",i)}},function(){if(!jQuery(this).hasClass("active")){var e=jQuery("#wpupg_isotope_filter_style_background_color").wpColorPicker("color"),t=jQuery("#wpupg_isotope_filter_style_text_color").wpColorPicker("color"),i=jQuery("#wpupg_isotope_filter_style_border_color").wpColorPicker("color");jQuery(this).css("background-color",e).css("color",t).css("border-color",i)}}),jQuery(".wpupg-pagination-term").hover(function(){if(!jQuery(this).hasClass("active")){var e=jQuery("#wpupg_pagination_style_background_hover_color").wpColorPicker("color"),t=jQuery("#wpupg_pagination_style_text_hover_color").wpColorPicker("color"),i=jQuery("#wpupg_pagination_style_border_hover_color").wpColorPicker("color");jQuery(this).css("background-color",e).css("color",t).css("border-color",i)}},function(){if(!jQuery(this).hasClass("active")){var e=jQuery("#wpupg_pagination_style_background_color").wpColorPicker("color"),t=jQuery("#wpupg_pagination_style_text_color").wpColorPicker("color"),i=jQuery("#wpupg_pagination_style_border_color").wpColorPicker("color");jQuery(this).css("background-color",e).css("color",t).css("border-color",i)}})},WPUltimatePostGrid.changedPostType=function(){var e=jQuery("#wpupg_post_types").find(":selected").val();jQuery(".wpupg_filter_taxonomy_container").hide();var t=jQuery("#wpupg_filter_taxonomy_"+e+"_container");t.length>0?(jQuery("#wpupg_no_taxonomies").hide(),jQuery("#wpupg_form_filter").show(),t.show(),WPUltimatePostGrid.filter_possible=!0):(jQuery("#wpupg_no_taxonomies").show(),jQuery("#wpupg_form_filter").hide(),WPUltimatePostGrid.filter_possible=!1),WPUltimatePostGrid.changedFilterType(),WPUltimatePostGrid.changedLimitTerms()},WPUltimatePostGrid.changedOrderBy=function(){"custom"==jQuery("#wpupg_order_by").find(":selected").val()?(WPUltimatePostGrid.checkPremiumFeatures("order_by",!0),jQuery(".wpupg_order_custom_key_container").show()):(WPUltimatePostGrid.checkPremiumFeatures("order_by",!1),jQuery(".wpupg_order_custom_key_container").hide())},WPUltimatePostGrid.changedLimitPosts=function(){jQuery("#wpupg_limit_posts").is(":checked")?(WPUltimatePostGrid.checkPremiumFeatures("limit_posts",!0),jQuery("#wpupg_meta_box_limit_posts").show()):(WPUltimatePostGrid.checkPremiumFeatures("limit_posts",!1),jQuery("#wpupg_meta_box_limit_posts").hide())},WPUltimatePostGrid.initRules=function(){jQuery("#wpupg_rules").find("tr").each(function(){var e=jQuery(this);e.find("select").select2wpupg({width:"100%"}),WPUltimatePostGrid.changedRuleField(e.attr("data-rule"))})},WPUltimatePostGrid.addRule=function(){var e=jQuery("#wpupg_rules"),t=e.find("tr:last").attr("data-rule");t=void 0==t?1:parseInt(t)+1;var i=jQuery("#wpupg_rule_placeholder").find("tr").first().clone(!0);i.appendTo(e).attr("id",function(e,i){return i.replace(/(\d+)/,t)}).attr("data-rule",function(e,i){return i.replace(/(\d+)/,t)}).find("select, input").attr("name",function(e,i){return i.replace(/(\d+)/,t)}).attr("id",function(e,i){return i.replace(/(\d+)/,t)}),i.find("select").select2wpupg({width:"100%"}),i.find(".wpupg-date").datepicker(),WPUltimatePostGrid.changedRuleField(t),WPUltimatePostGrid.changedDateRule(t)},WPUltimatePostGrid.removeRule=function(e){"0"!=e&&jQuery("#wpupg_rule_"+e).remove()},WPUltimatePostGrid.changedRuleField=function(e){var t=jQuery("#wpupg_rule_"+e),i=jQuery("#wpupg_limit_posts_rule_field_"+e).val();i=i.replace("|","_"),t.find(".rule_container").hide(),t.find(".rule_container_"+i).show()},WPUltimatePostGrid.changedDateRule=function(e){var t=jQuery("#wpupg_limit_posts_rule_values_wpupg_general_date_condition_"+e).find(":selected").val(),i=jQuery("#wpupg_limit_posts_rule_values_wpupg_general_date_date_"+e).val();jQuery("#wpupg_limit_posts_rule_values_wpupg_general_date_"+e).val(t+";"+i)},WPUltimatePostGrid.changedFilterType=function(){var e=jQuery("#wpupg_filter_type").find(":selected").val();"none"==e?jQuery("#wpupg_form_filter").find("tr").not(".wpupg_no_filter").hide():jQuery("#wpupg_form_filter").find("tr").not(".wpupg_no_filter").show(),"dropdown"==e?WPUltimatePostGrid.checkPremiumFeatures("filter_type",!0):WPUltimatePostGrid.checkPremiumFeatures("filter_type",!1),jQuery("#wpupg_meta_box_isotope_filter").hide(),jQuery("#wpupg_meta_box_dropdown_filter").hide(),WPUltimatePostGrid.filter_possible&&jQuery("#wpupg_meta_box_"+e+"_filter").show(),WPUltimatePostGrid.changedLimitTerms()},WPUltimatePostGrid.changedMultiselect=function(){jQuery("#wpupg_filter_multiselect").is(":checked")?(WPUltimatePostGrid.checkPremiumFeatures("multiselect",!0),jQuery(".wpupg_multiselect").show()):(WPUltimatePostGrid.checkPremiumFeatures("multiselect",!1),jQuery(".wpupg_multiselect").hide())},WPUltimatePostGrid.changedLimitTerms=function(){var e=jQuery("#wpupg_filter_limit").is(":checked"),t=jQuery("#wpupg_post_types").find(":selected").val(),i=jQuery("#wpupg_filter_taxonomy_"+t).val();if(e&&i){jQuery(".wpupg_limit_terms").show(),jQuery(".wpupg_filter_terms_taxonomy").hide();for(var o=0;o<i.length;o++)jQuery("#wpupg_filter_terms_taxonomy_"+i[o]).show()}else jQuery(".wpupg_limit_terms").hide()},WPUltimatePostGrid.changedIsotopeFilterStyle=function(){var e=parseInt(jQuery("#wpupg_isotope_filter_style_margin_vertical").val()),t=parseInt(jQuery("#wpupg_isotope_filter_style_margin_horizontal").val()),i=parseInt(jQuery("#wpupg_isotope_filter_style_padding_vertical").val()),o=parseInt(jQuery("#wpupg_isotope_filter_style_padding_horizontal").val()),r=parseInt(jQuery("#wpupg_isotope_filter_style_border_width").val()),a=jQuery("#wpupg_isotope_filter_style_background_color").wpColorPicker("color"),l=jQuery("#wpupg_isotope_filter_style_text_color").wpColorPicker("color"),n=jQuery("#wpupg_isotope_filter_style_border_color").wpColorPicker("color"),_=jQuery("#wpupg_isotope_filter_style_alignment").find(":selected").val();jQuery("#wpupg_filter_preview_isotope_filter_style").css("text-align",_),jQuery(".wpupg-filter-isotope-term").css("margin",e+"px "+t+"px").css("padding",i+"px "+o+"px").css("background-color",a).css("color",l).css("border",r+"px solid "+n);var p=jQuery("#wpupg_isotope_filter_style_background_active_color").wpColorPicker("color"),s=jQuery("#wpupg_isotope_filter_style_text_active_color").wpColorPicker("color"),u=jQuery("#wpupg_isotope_filter_style_border_active_color").wpColorPicker("color");jQuery(".wpupg-filter-isotope-term.active").css("background-color",p).css("color",s).css("border",r+"px solid "+u)},WPUltimatePostGrid.changedIsotopeFilterText=function(){var e=jQuery("#wpupg_isotope_filter_style_all_button_text").val();e.length>0?jQuery("#wpupg_isotope_filter_style_all_button_text_preview").text(e).show():jQuery("#wpupg_isotope_filter_style_all_button_text_preview").hide()},WPUltimatePostGrid.changedLayoutMode=function(){"masonry"==jQuery("#wpupg_layout_mode").find(":selected").val()?jQuery(".wpupg_masonry").show():jQuery(".wpupg_masonry").hide()},WPUltimatePostGrid.changedPaginationStyle=function(){var e=parseInt(jQuery("#wpupg_pagination_style_margin_vertical").val()),t=parseInt(jQuery("#wpupg_pagination_style_margin_horizontal").val()),i=parseInt(jQuery("#wpupg_pagination_style_padding_vertical").val()),o=parseInt(jQuery("#wpupg_pagination_style_padding_horizontal").val()),r=parseInt(jQuery("#wpupg_pagination_style_border_width").val()),a=jQuery("#wpupg_pagination_style_background_color").wpColorPicker("color"),l=jQuery("#wpupg_pagination_style_text_color").wpColorPicker("color"),n=jQuery("#wpupg_pagination_style_border_color").wpColorPicker("color"),_=jQuery("#wpupg_pagination_style_alignment").find(":selected").val();jQuery(".wpupg_filter_preview_pagination_style").css("text-align",_),jQuery(".wpupg-pagination-term").css("margin",e+"px "+t+"px").css("padding",i+"px "+o+"px").css("background-color",a).css("color",l).css("border",r+"px solid "+n);var p=jQuery("#wpupg_pagination_style_background_active_color").wpColorPicker("color"),s=jQuery("#wpupg_pagination_style_text_active_color").wpColorPicker("color"),u=jQuery("#wpupg_pagination_style_border_active_color").wpColorPicker("color");jQuery(".wpupg-pagination-term.active").css("background-color",p).css("color",s).css("border",r+"px solid "+u)},WPUltimatePostGrid.changedPaginationType=function(){var e=jQuery("#wpupg_pagination_type").find(":selected").val();jQuery("#wpupg_form_pagination").find("tbody").not(".wpupg_pagination_"+e).not(".wpupg_pagination_none").hide(),jQuery("#wpupg_form_pagination").find("tbody.wpupg_pagination_"+e).show(),"none"==e||"pages"==e?WPUltimatePostGrid.checkPremiumFeatures("pagination_type",!1):WPUltimatePostGrid.checkPremiumFeatures("pagination_type",!0),"none"!=e&&"infinite_load"!=e&&"load_filter"!=e?(e="load_more_filter"==e?"load_more":e,jQuery("#wpupg_meta_box_pagination_style").show().find(".wpupg_filter_preview").hide(),jQuery("#wpupg_filter_preview_pagination_style_"+e).show()):jQuery("#wpupg_meta_box_pagination_style").hide()},WPUltimatePostGrid.changedPaginationText=function(){var e=jQuery("#wpupg_pagination_load_more_button_text").val();jQuery("#wpupg_filter_preview_pagination_style_load_more").find(".wpupg-pagination-term").text(e)},WPUltimatePostGrid.checkPremiumFeatures=function(e,t){t?WPUltimatePostGrid.premium_features_used.push(e):WPUltimatePostGrid.premium_features_used=jQuery.grep(WPUltimatePostGrid.premium_features_used,function(t){return t!=e}),WPUltimatePostGrid.premium_features_used.length>0?jQuery("#wpupg_meta_box_premium_only").show():jQuery("#wpupg_meta_box_premium_only").hide()},jQuery(document).ready(function(e){e("#wpupg_meta_box_data_source").length>0&&WPUltimatePostGrid.initForm()});